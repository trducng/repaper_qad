# @package _global_
defaults:
  - override /dataset: tinyimagenet
  - override /pretrained_model: vitca
  - override /classifier: linear

experiment:
  name: tinyimagenet

  batch_size:
    train: 8
    val: 32

  input_size:
    train: [64, 64]
    val: [64, 64]
    test: [64, 64]  # for linear probing with CA-based models

  val_frequency: 1000
  log_frequency: 44

  iter:
    train:
      ca:
        min: 8
        max: 32

  masking:
    train:
      type: dropout
      max_prob: 0.75
      max_patch_shape: [4, 4]
      prob_stages: 3
      patch_shape_stages: 3
    val:
      type: dropout
      max_prob: 0.75
      max_patch_shape: [4, 4]
      prob_stages: 3
      patch_shape_stages: 3
    test:  # for linear probing with CA-based models
      type: dropout
      max_prob: 0.75
      max_patch_shape: [4, 4]
      prob_stages: 3
      patch_shape_stages: 3

classifier:
  in_chns: 3
  num_classes: 200