# @package _global_
defaults:
  - override /dataset: mnist
  - override /pretrained_model: vitca
  - override /classifier: linear

experiment:
  name: mnist

  batch_size:
    train: 32
    val: 32

  input_size:
    train: [32, 32]
    val: [32, 32]
    test: [32, 32]  # for linear probing with CA-based models

  val_frequency: 1000

  iter:
    train:
      ca:
        min: 8
        max: 32

  masking:
    train:
      type: noise
      max_prob: 0.75
      max_patch_shape: [4, 4]
      prob_stages: 3
      patch_shape_stages: 3
    val:
      type: noise
      max_prob: 0.75
      max_patch_shape: [4, 4]
      prob_stages: 3
      patch_shape_stages: 3
    test:  # for linear probing with CA-based models
      type: noise
      max_prob: 0.75
      max_patch_shape: [4, 4]
      prob_stages: 3
      patch_shape_stages: 3

pretrained_model:
  cell_in_chns: 1
  cell_out_chns: 1

classifier:
  in_chns: 1
  num_classes: 10